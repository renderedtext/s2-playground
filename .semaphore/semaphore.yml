version: v1.0
name: Monorepo
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
global_job_config:
  prologue:
    commands:
      - checkout
blocks:
  - name: "\U0001F468‍\U0001F3A8 User Interface"
    run:
      when: 'change_in(''/folder1/'', {pipeline_file: ''ignore''})'
    task:
      jobs:
        - name: JS Lint
          commands:
            - echo "here"
        - name: JS Tests
          commands:
            - echo "here"
          parallelism: 2
    dependencies: []
  - name: ⏰ Orders Service
    task:
      jobs:
        - name: Lint
          commands:
            - echo "here"
        - name: Unit Tests
          commands:
            - echo "here"
        - name: Integration Tests
          commands:
            - echo "here"
    dependencies: []
  - name: "\U0001F4B8 Billing Service"
    task:
      jobs:
        - name: Lint
          commands:
            - echo "here"
        - name: Unit Tests
          commands:
            - echo "here"
        - name: Integration Tests
          commands:
            - echo "here"
    dependencies: []
